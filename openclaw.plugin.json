{
  "id": "digirig",
  "channels": ["digirig"],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "enabled": { "type": "boolean" },
      "audio": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "inputDevice": { "type": "string" },
          "outputDevice": { "type": "string" },
          "sampleRate": { "type": "integer", "minimum": 1 }
        }
      },
      "ptt": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "device": { "type": "string" },
          "rts": { "type": "boolean" },
          "leadMs": { "type": "integer", "minimum": 0 },
          "tailMs": { "type": "integer", "minimum": 0 }
        }
      },
      "rx": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "energyThreshold": { "type": "number", "minimum": 0 },
          "energyLogIntervalMs": { "type": "integer", "minimum": 0 },
          "frameMs": { "type": "integer", "minimum": 5 },
          "preRollMs": { "type": "integer", "minimum": 0 },
          "minSpeechMs": { "type": "integer", "minimum": 50 },
          "maxSilenceMs": { "type": "integer", "minimum": 100 },
          "maxRecordMs": { "type": "integer", "minimum": 1000 },
          "busyHoldMs": { "type": "integer", "minimum": 50 }
        }
      },
      "tx": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "callsign": { "type": "string" }
        }
      },
      "stt": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "streamUrl": { "type": "string" },
          "streamIntervalMs": { "type": "integer", "minimum": 100 },
          "streamWindowMs": { "type": "integer", "minimum": 500 },
          "timeoutMs": { "type": "integer", "minimum": 1000 },
          "server": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "autoStart": { "type": "boolean" },
              "command": { "type": "string" },
              "args": { "type": "string" },
              "modelPath": { "type": "string" },
              "host": { "type": "string" },
              "port": { "type": "integer", "minimum": 1 },
              "restartMs": { "type": "integer", "minimum": 0 }
            }
          }
        }
      }
    }
  }
}
